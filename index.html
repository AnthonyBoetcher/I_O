<!DOCTYPE html>
<html lang="en">
<head>
    <title>I/O</title>
    <meta charset="utf-8" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin=""/>
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css">
    <style>
        #leaflet-map {
            width: 100vw;
            height: 100vh;
        }
    </style>
</head>
<body>
    <div id="leaflet-map"></div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>
    <script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"></script>

    <script>
        // Initialize map
        var map = L.map("leaflet-map").setView([-33.97581315448854, 18.455271611987715], 16);

        // Add base map
        L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png", {
            maxZoom: 19,
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
        }).addTo(map);

        // Define custom icons
        var birdIcon = L.icon({
            iconUrl: "birdbgr.png",
            iconSize: [25, 41],
            iconAnchor: [12, 41],
            popupAnchor: [1, -34],
            shadowUrl: "https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",
            shadowSize: [41, 41]
        });

        var eggIcon = L.icon({
            iconUrl: "eggbgr1.png",
            iconSize: [15, 25],
            iconAnchor: [7, 25],
            popupAnchor: [1, -20],
            shadowUrl: "https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",
            shadowSize: [25, 25]
        });

        // Define markers with metadata
        var markers = [
            L.marker([-33.97580256588796, 18.455148569840915], { icon: eggIcon }).bindTooltip("XMEE with mate and 2 unringed fledgies, 11/23"),
            L.marker([-33.97593925499413, 18.4552646473379], { icon: birdIcon }).bindTooltip("WMOY & XMGG, collecting nesting material, 11/23"),
            L.marker([-33.97581315448854, 18.455271611987715], { icon: eggIcon }).bindTooltip("RMGY with mate and 2 unringed fledgies, 11/23"),
            L.marker([-33.975699567613475, 18.455282058962442], { icon: birdIcon }).bindTooltip("XMBB, 12/23"),
            L.marker([-33.9757746504801, 18.455423673508765], { icon: eggIcon }).bindTooltip("RMOV with 2 fledgies, 12/23"),
            L.marker([-33.9757409594584, 18.45544108513331], { icon: birdIcon }).bindTooltip("WMWG, 12/23"),
            L.marker([-33.97564469932286, 18.45531107833669], { icon: birdIcon }).bindTooltip("XMRG & WMGY, 12/23")
        ];

        // Cluster markers
        var markerCluster = L.markerClusterGroup();
        markers.forEach(marker => markerCluster.addLayer(marker));
        map.addLayer(markerCluster);

        // Fit map to markers
        map.fitBounds(markerCluster.getBounds());
    </script>
</body>
</html>
